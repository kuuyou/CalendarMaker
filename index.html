<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Monthly Calendar Editor</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <div class="layout">
    <aside class="panel">
      <h1>样式编辑（整月）</h1>

      <section>
        <h2>月份</h2>
        <div class="inline">
          <label>年
            <input id="year" type="number" min="1900" max="2200" value="2026">
          </label>
          <label>月
            <input id="month" type="number" min="1" max="12" value="3">
          </label>
        </div>
        <div class="row">
          <button id="renderBtn" type="button">重新生成</button>
        </div>
      </section>

      <section>
        <h2>卡片外观</h2>

        <label>宽度(px)
          <input id="cardW" type="range" min="420" max="1600" value="980">
        </label>

        <label>高度(px)
          <input id="cardH" type="range" min="420" max="1400" value="760">
        </label>

        <label>背景色
          <input id="cardBg" type="color" value="#ffffff">
        </label>

        <label>内边距(px)
          <input id="cardPad" type="range" min="0" max="120" value="28">
        </label>

        <label>外边距(px)
          <input id="cardMargin" type="range" min="0" max="160" value="0">
        </label>

        <label>圆角(px)
          <input id="cardRadius" type="range" min="0" max="80" value="18">
        </label>

        <label>阴影强度
          <input id="shadowA" type="range" min="0" max="1" step="0.02" value="0.18">
        </label>

        <label>阴影模糊(px)
          <input id="shadowBlur" type="range" min="0" max="140" value="28">
        </label>

        <label>阴影偏移Y(px)
          <input id="shadowY" type="range" min="-30" max="80" value="12">
        </label>
      </section>

      <section>
        <h2>网格布局</h2>
        <label>格子间距(px)
          <input id="gridGap" type="range" min="0" max="30" value="10">
        </label>
        <label>日期格子圆角(px)
          <input id="cellRadius" type="range" min="0" max="30" value="10">
        </label>
        <label>日期格子内边距(px)
          <input id="cellPadY" type="range" min="0" max="28" value="10">
        </label>
      </section>

      <section>
        <h2>星期（表头）</h2>

        <label>字体
          <select id="wdFont">
            <option value="system-ui">system-ui</option>
            <option value="'Noto Sans JP', system-ui">Noto Sans JP</option>
            <option value="'Microsoft YaHei', system-ui">微软雅黑</option>
            <option value="'Times New Roman', serif">Times New Roman</option>
          </select>
        </label>

        <label>字号(px)
          <input id="wdSize" type="range" min="10" max="72" value="16">
        </label>

        <label>颜色
          <input id="wdColor" type="color" value="#333333">
        </label>

        <label>行高
          <input id="wdLine" type="range" min="0.8" max="2.8" step="0.05" value="1.2">
        </label>
      </section>

      <section>
        <h2>日期（格子数字）</h2>

        <label>字体
          <select id="dtFont">
            <option value="system-ui">system-ui</option>
            <option value="'Noto Sans JP', system-ui">Noto Sans JP</option>
            <option value="'Microsoft YaHei', system-ui">微软雅黑</option>
            <option value="'Times New Roman', serif">Times New Roman</option>
          </select>
        </label>

        <label>字号(px)
          <input id="dtSize" type="range" min="10" max="72" value="18">
        </label>

        <label>颜色
          <input id="dtColor" type="color" value="#111111">
        </label>

        <label>行高
          <input id="dtLine" type="range" min="0.8" max="2.8" step="0.05" value="1.1">
        </label>
      </section>

      <section class="row">
        <button id="resetBtn" type="button">重置</button>
        <button id="copyCssBtn" type="button">复制 CSS</button>
        <button id="exportPngBtn" type="button">导出 PNG</button>
      </section>

      <p class="tip">导出 PNG 会等待字体加载完成；右侧为整月预览。</p>
    </aside>

    <main class="preview">
      <div class="card" id="calendarCard" aria-label="monthly calendar preview">
        <div class="monthTitle" id="monthTitle">2026-03</div>
        <div class="grid" id="grid"></div>
      </div>
    </main>
  </div>

  <!-- html2canvas：导出 PNG 用（必须在 app.js 之前） -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="./app.js"></script>
</body>
</html>
